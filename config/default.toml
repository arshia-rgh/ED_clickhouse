[tracing]
level = "info"
format = "text"          # "text" | "json"
with_level = true
with_target = false
with_thread_ids = false
with_line_number = false
with_file = false

[nats]
client_port = 4222
server_port = 8222
username = "user"
password = "password"
host = "localhost"
queue = "clickhouse-queue"
subjects = ["events.login"]
consumer_name = "click-consumer"

[nats.stream_config]
name = "ClickHouseConsumer"
retention = "workqueue"
discard = "old"
storage = "memory"
no_ack = false
max_consumers = 100
max_age = "24h"
need_create = true

[clickhouse]
host = "localhost"
port = 8123
user = ""
password = ""
database = "database"
max_open_conns = 1
max_idle_conns = 1
debug = false

[batcher]
max_rows = 100000
max_bytes = 60000000
flush_interval_ms = 1000